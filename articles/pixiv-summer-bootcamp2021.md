---
title: "ãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã«Attributeã‚’ç”¨ã„ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸ"
date: "2021-09-21"
---

### **ã¯ã˜ã‚ã«**

8/31~9/16ã®é–“ã§ï¼ŒPIXIV SUMMER BOOTCAMP2021ã®æŠ€è¡“åŸºç›¤ã‚³ãƒ¼ã‚¹ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã®ã§ï¼Œãã®å‚åŠ çµŒç·¯ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§è¡Œã£ãŸå†…å®¹ã«ã¤ã„ã¦ãƒ–ãƒ­ã‚°ã«æ›¸ã„ã¦ã„ãã¾ã™ï¼

æ¥å¹´ï¼Œã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã«å¿œå‹Ÿã—ãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ãŸã¡ãŒï¼Œã“ã®ãƒ–ãƒ­ã‚°ã‚’èª­ã¿ï¼Œå°‘ã—ã§ã‚‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®å‚è€ƒã«ãªã‚Œã°ã„ã„ãªã¨æ€ã£ã¦ã„ã¾ã™ï¼

### **å‚åŠ ã¾ã§ã®çµŒç·¯**

æ˜”ã‹ã‚‰ãƒ”ã‚¯ã‚·ãƒ–ã•ã‚“ã®æä¾›ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒå¥½ãã§ï¼Œã‚ˆãä½¿ã‚ã›ã¦ã„ãŸã ã„ãŸã“ã¨ã‚‚ã‚ã‚Šï¼Œä»¥å‰ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã«å‚åŠ ã—ãŸã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã—ãŸï¼

æ˜¨å¹´ã®å¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚„ï¼Œä»Šå¹´ã®æ˜¥ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã«ã‚‚å¿œå‹Ÿã‚’ã—ã¦ããŸã®ã§ã™ãŒï¼Œè‡ªèº«ã®åŠ›ä¸è¶³ã§å‚åŠ ã‚’è¦‹é€ã‚‰ã‚Œï¼Œä»Šå¹´ã®å¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã“ãã¯ã¨ã„ã†æ€ã„ã§å¿œå‹Ÿã‚’ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸï¼

åƒ•ãŒå¿œå‹Ÿã—ãŸæŠ€è¡“åŸºç›¤ã‚³ãƒ¼ã‚¹ã¯ï¼Œ**ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç™¾ç§‘äº‹å…¸ã€Œãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã€ã®æ©Ÿèƒ½é–‹ç™ºãŠã‚ˆã³ã‚³ã‚¢æ©Ÿèƒ½ãƒ»Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ”¹å–„ã‚’è¡Œã†ã‚³ãƒ¼ã‚¹ã§ã™ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é–‹ç™ºã‚’é€šã˜ã¦Webã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã™ã¹ãåŸºæœ¬æ©Ÿèƒ½ã®ç†è§£ã‚„é–‹ç™ºè€…ãŒåˆ©ç”¨ã—ã‚„ã™ã„è¨­è¨ˆã«ã¤ã„ã¦å­¦ã¶ã“ã¨**ãŒç›®çš„ã§ã—ãŸï¼

[å¼•ç”¨ï¼šPIXIV SUMMER BOOT CAMP 2021 å‹Ÿé›†ãƒšãƒ¼ã‚¸](https://www.pixiv.co.jp/summer_bootcamp_2021#kiban)

ã¾ãŸï¼Œå¿œå‹Ÿã®éš›ã«å®Ÿç¸¾ãªã©ã‚’æå‡ºã™ã‚‹ã“ã¨ã«åŠ ãˆï¼Œãƒ†ãƒ¼ãƒã‚’ä¸ãˆã‚‰ã‚Œï¼Œãã®ãƒ†ãƒ¼ãƒã«æ²¿ã£ãŸè‡ªåˆ†ã®è€ƒãˆã‚’èª²é¡Œã¨ã—ã¦æå‡ºã™ã‚‹ã“ã¨ã§è©•ä¾¡å¯¾è±¡ã«ã—ã¦ã„ãŸã ã‘ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã®ã§ï¼Œåƒ•ã¯ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ï¼Œè‡ªåˆ†ã®è€ƒãˆã‚’ã¾ã¨ã‚ï¼Œæå‡ºã—ã¾ã—ãŸï¼

- Qï¼Webé–‹ç™ºæ™‚ã«ä¸ä¾¿ã«æ„Ÿã˜ã¦ã„ã¦ã€æŠ€è¡“çš„ã«è§£æ±ºã—ãŸã„å•é¡ŒãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ 
    - Aï¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜é–¢ä¿‚ã‚’Composerãªã©ã§ç®¡ç†ã™ã‚‹ã“ã¨ãªã©ã«ã¤ã„ã¦å›ç­”ã—ã¾ã—ãŸï¼

- Qï¼æ™®æ®µåˆ©ç”¨ã—ã¦ã„ã‚‹Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç°¡å˜ã«èª­ã‚“ã§ã¿ã¦ã€å‹‰å¼·ã«ãªã£ãŸéƒ¨åˆ†ã¨ã€èª­ã‚“ã§ã¿ãŸãŒã‚ˆãç†è§£ã§ããªã‹ã£ãŸéƒ¨åˆ†ã¨æŒ™ã’ã¦ãã ã•ã„
    - Aï¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ã¤ã„ã¦å›ç­”ã—ã¾ã—ãŸï¼

- Qï¼Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã€ãã‚Œã‚’é©åˆ‡ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯é˜²æ­¢ã§ãã‚‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹è„†å¼±æ€§ã®ç¨®é¡ã‚’äºŒã¤é¸ã‚“ã§æŒ™ã’ã¦ãã ã•ã„
    - A.Laravelã‚’ä¾‹ã«ã‚ã’ï¼ŒäºŒç¨®ã®è„†å¼±æ€§å¯¾ç­–ã«ã¤ã„ã¦å›ç­”ã—ã¾ã—ãŸï¼

- Qï¼2021å¹´ç¾åœ¨ã§ã‚‚ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãªã©ã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç†ã‚’å‰æã¨ã›ãšã€PHPã®ã‚ˆã†ã«å˜ãªã‚‹åŒæœŸå®Ÿè¡Œã®ã¿ã§å‹•ä½œã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ ¹å¼·ãæ®‹ã£ã¦ã„ã‚‹ç†ç”±ã«ã¤ã„ã¦ç°¡å˜ã«è€ƒå¯Ÿã—ã¦ãã ã•ã„
    - Aï¼ã“ã‚Œã¾ã§ã®çµŒé¨“ã‚’ã‚‚ã¨ã«å›ç­”ã—ã¾ã—ãŸï¼

ä»–ã«ã‚‚ï¼Œã“ã‚Œã¾ã§ã®å®Ÿç¸¾ã¨ã—ã¦phpã§ä½œæˆã—ãŸè‡ªä½œMVCãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¤ã„ã¦ã‚‚å®Ÿç¸¾ã¨ã—ã¦æå‡ºã—ã¾ã—ãŸï¼

[ã‚¤ãƒã‹ã‚‰phpãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã£ã¦ã¿ã‚‹](https://jdkfx.com/blog/building-a-php-framework)

ã¾ãŸï¼Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã«æ¡ç”¨ã•ã‚Œã¦ã‹ã‚‰å‚åŠ ã™ã‚‹ã¾ã§ã®äº‹å‰èª²é¡Œã¨ã—ã¦ï¼ŒPSR-HTTPã«ã¤ã„ã¦ã®ç†è§£ã‚’æ·±ã‚ã¦ãã¦ã»ã—ã„ã¨ã„ã†ã“ã¨ã§ã“ã¡ã‚‰ã®è³‡æ–™ã‚’æä¾›ã—ã¦ã„ãŸã ãï¼Œèª­ã¿è¾¼ã‚“ã ã‚Šã—ã¦ãŠãã¾ã—ãŸï¼

[PSR-HTTPã‚·ãƒªãƒ¼ã‚ºã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æƒ…å ±æº](https://scrapbox.io/php/PSR-HTTP%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E3%82%92%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E6%83%85%E5%A0%B1%E6%BA%90)

### **å®Ÿè£…ã—ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã«ã¤ã„ã¦**

ã•ã¦ï¼Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã§è¡Œã£ãŸæ–°æ©Ÿèƒ½ã®é–‹ç™ºã§ã¯ï¼ŒPHP8.0ã§å°å…¥ã•ã‚ŒãŸAttributeã‚’ä½¿ç”¨ã—ï¼Œã€Œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’èµ°æŸ»ã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã™ã‚‹ã€ã¨ã„ã†æ©Ÿèƒ½ï¼ˆä»¥ä¸‹ï¼ŒAttributeãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰ã‚’èª²é¡Œã¨ã—ã¦å‡ºã•ã‚ŒãŸã®ã§ï¼Œãã¡ã‚‰ã®å®Ÿè£…ã‚’è¡Œã„ã¾ã—ãŸï¼

#### **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã¯**

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦å°‘ã—è§£èª¬ã—ã¾ã™ï¼

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã¯ï¼Œä¾‹ãˆã°`dic.pixiv.net/a/åˆéŸ³ãƒŸã‚¯`ãªã©ã®ã‚ˆã†ãªï¼ŒURLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹å‡¦ç†ã‚’è¨˜è¿°ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®ã“ã¨ã§ï¼Œãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ï¼

ã“ã®ä¾‹ã®å ´åˆã ã¨`ArticleController`ãŒå‘¼ã°ã‚Œï¼Œãã®`ArticleController`å†…ã®`view`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã£ã¦ï¼Œãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã®ã‚µã‚¤ãƒˆä¸Šã§åˆéŸ³ãƒŸã‚¯ã®è§£èª¬ãƒšãƒ¼ã‚¸ã‚’èª­ã‚€ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼

```php
Router::addRoute('a/:articlename', [	// dic.pixiv.net/a/åˆéŸ³ãƒŸã‚¯
    'controller' => 'article',
    'action' => 'view',
]);
```

#### **Attributeã¨ã¯**

Attributeã¨ã¯ï¼Œå…ˆè¿°ã®é€šã‚Šï¼ŒPHP8.0ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½ã§ï¼Œã‚¯ãƒ©ã‚¹ãªã©ã®å®£è¨€æ™‚ã«ãƒ¡ã‚½ãƒƒãƒ‰ãªã©ã®è¿½åŠ æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹æ©Ÿèƒ½ã§ã™ï¼

åŸ‹ã‚è¾¼ã‚“ã æƒ…å ±ã¯ReflectionAPIã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦å†…å®¹ã‚’å–å¾—ã—ãŸã‚Šï¼Œå¤‰æ›´ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ï¼

```php
#[Attribute(Attribute::TARGET_METHOD | Attribute::TARGET_FUNCTION)]
class MyAttribute
{
	// snip
}

// $reflection->getAttributes() ãªã©ã§Attributeã®æƒ…å ±ã‚’å–å¾—ã§ãã‚‹
```

[ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã®æ¦‚è¦](https://www.php.net/manual/ja/language.attributes.overview.php)

[ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³API ã‚’ä½¿ã£ã¦ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã‚’èª­ã¿å–ã‚‹](https://www.php.net/manual/ja/language.attributes.reflection.php)

ã“ã‚Œã¯BEAR.Sundayã¨ã„ã†PHPãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®å¼•ç”¨ã«ãªã‚Šã¾ã™ãŒï¼Œå¾“æ¥ã®PHPã§ã¯ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«ï¼ŒAnnotationã¨ã„ã†ã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦åŒã˜ã‚ˆã†ãªã“ã¨ã‚’ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã—ãŸï¼

```php
// Annotation

/**
 * @Inject
 * @Named('admin')
 */
public function setLogger(LoggerInterface $logger)
```

ã“ã‚ŒãŒAttributeã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã“ã®ã‚ˆã†ãªæ›¸ãæ–¹ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼

```php
// Attribute

#[Inject, Named('admin')]
public function setLogger(LoggerInterface $logger)
```

[BEAR.Sunday ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ](https://bearsunday.github.io/manuals/1.0/ja/attribute.html)

ä»Šå›ã¯ã“ã®Attributeã‚’åˆ©ç”¨ã—ã¦PHP8.0ã®æ¨™æº–æ©Ÿèƒ½ã«å¯„ã›ã‚‹ãŸã‚ï¼Œã“ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã•ã›ã¦ã„ãŸã ãã¨ã„ã†æµã‚Œã§ã—ãŸï¼

ã¾ãŸï¼Œç¾åœ¨ã®ãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã®PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯8.0ã§ã¯ãªã„ã®ã§ï¼Œ[Spiral Frameworkã®Attribute](https://spiral.dev/docs/component-attributes)ã‚’ä½¿ç”¨ã—ï¼Œé–‹ç™ºã‚’é€²ã‚ã¾ã—ãŸï¼

### **å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½ã®è¦ä»¶**

ä»Šå›å®Ÿè£…ã™ã‚‹Attributeãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªè¦ä»¶ã«æ²¿ã£ã¦é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¾ã™ï¼

- ãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’Attributeã§è¡¨ç¾ã™ã‚‹ã“ã¨

- Attributeã¯å®Ÿè¡Œæ™‚ã«èª­ã¿è¾¼ã¾ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨
    
    - ã¾ãŸï¼Œå‡ºåŠ›ã™ã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ—¢å­˜ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ ã‚’å‚è€ƒã«ã—ã¾ã™ï¼

- åˆç†çš„ãªç¯„å›²ã§å°ã•ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦æ§‹æˆã™ã‚‹

    - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¾å­˜ã•ã›ãšã«ï¼Œãã‚Œãã‚Œã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã«ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒå¯èƒ½ãªã‚‚ã®ã«ã—ã¾ã™ï¼

ä»Šå›å®Ÿè£…ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ï¼ŒRouteã‚¯ãƒ©ã‚¹ã¨ï¼Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’èµ°æŸ»ã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’åæ‹¾ã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼Œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ã™ã‚‹ã‚¯ãƒ©ã‚¹ã¨ã„ã£ãŸæ„Ÿã˜ã§ï¼Œä¸‰ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å±•é–‹ã•ã›ã¦å®Ÿè£…ã‚’é€²ã‚ã¾ã—ãŸï¼

### **Routeã‚¯ãƒ©ã‚¹ã®å®Ÿè£…**

æ–°ã—ãRouteã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹å‰ã«ï¼Œæ—¢å­˜ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦å°‘ã—ã ã‘è§¦ã‚Œã¦ãŠãã¨ï¼Œæ—¢å­˜ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã‚ã‚‹`Router::addRoute()`ã¯ã„ãã¤ã‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒã£ã¦ã„ã¾ã™ï¼

```php
// RouteConfigPC.php 

Router::addRoute('en', [					// path
    'action' => Dic\Http\Controller\Ja\EnNoSlashAction::class,
    'no_trailing_slash' => true,			// no_trailing_slash
]);

Router::addRoute('sitemap.xml', [
    'action' => Dic\Http\Controller\Sitemap\IndexAction::class,
    'cache' => true,					// cache
]);
```

ä¸Šè¨˜ã¯å¾“æ¥ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æˆã§ã™ãŒï¼Œã“ã“ã«ã¯`path`ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ï¼Œ`cache`ï¼Œ`no_trailing_slash`ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ä»˜ä¸ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™ï¼

ã“ã‚Œã‚‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ï¼Œãã‚Œãã‚Œä»¥ä¸‹ã®ã‚ˆã†ãªæ„å‘³ã‚’ã‚‚ã£ã¦ãŠã‚Šï¼Œã“ã‚Œã¨åŒã˜ã‚ˆã†ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ–°ã—ãä½œã‚‹`Route`ã‚¯ãƒ©ã‚¹ã«ã‚‚åŒæ§˜ã«ä»˜ä¸ã—ï¼Œå®Ÿè£…ã—ãŸã‚‚ã®ãŒãã®ä¸‹ã®`Route`ã‚¯ãƒ©ã‚¹ã«ãªã‚Šã¾ã™ï¼

```php
$path // URIã«å¯¾å¿œã™ã‚‹æ–‡å­—åˆ—
$cache // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã‹ã©ã†ã‹ 
$no_trailing_slash // æœ«å°¾ã® / ã‚’è¨±å®¹ã™ã‚‹ã‹ã©ã†ã‹
```

```php
declare(strict_types=1);

namespace Dic\Domain;

use Attribute;

/**
 * @property string $path
 * @property bool $cache
 * @property bool $no_trailing_slash
 */

#[Attribute]
#[\Spiral\Attributes\NamedArgumentConstructor]
final class Route
{
    /** @var string */
    private $path;

    /** @var bool */
    private $cache;

    /** @var bool */
    private $no_trailing_slash;

    public function __construct(string $path, bool $cache = false, bool $no_trailing_slash = false)
    {
        $this->path = $path;
        $this->cache = $cache;
        $this->no_trailing_slash = $no_trailing_slash;
    }

    public function __get(string $key)
    {
        return $this->$key;
    }
}
```

å®Ÿéš›ã«ï¼Œã“ã®`Route`ã‚¯ãƒ©ã‚¹ã«å®Ÿè£…ã—ãŸAttributeãŒä½¿ç”¨ã§ãã‚‹ã‹ã¨ã„ã†ãƒ†ã‚¹ãƒˆã¯ã“ã®ã‚ˆã†ãªå½¢ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ï¼

```php
declare(strict_types=1);

namespace Dic\Domain;

use Dic\TestCase;
use Spiral\Attributes\AttributeReader;

#[Route(path: 'a/:articlename')]
#[Route(path: 'ae/:article_name', cache: true)]
#[Route(path: 'ae/:article_name', no_trailing_slash: true)]
#[Route(path: 'ae/:article_name', cache: true, no_trailing_slash: true)]
class RouteTest extends TestCase
{
    /** @var AttributeReader */
    private $reader;

    public function setUp(): void
    {
        parent::setUp();

        $this->reader = new AttributeReader();
    }

    public function test_Class(): void
    {
        $ref_class = new \ReflectionClass($this);
        $actual = $this->reader->getClassMetadata($ref_class);

        $count = 0;

        foreach ($actual as $attr) {
            $count++;
            $this->assertInstanceOf(Route::class, $attr);
        }

        $this->assertSame(4, $count);
    }

    public function test_Method(): void
    {
        $ref_class = new \ReflectionClass($this);
        $ref_method = $ref_class->getMethod('subject');
        $actual = $this->reader->getFunctionMetadata($ref_method);

        $count = 0;

        foreach ($actual as $attr) {
            $count++;
            $this->assertInstanceOf(Route::class, $attr);
        }

        $this->assertSame(4, $count);
    }

    #[Route(path: 'a/:articlename')]
    #[Route(path: 'ae/:article_name', cache: true)]
    #[Route(path: 'ae/:article_name', no_trailing_slash: true)]
    #[Route(path: 'ae/:article_name', cache: true, no_trailing_slash: true)]
    public function subject(): void
    {
        // snip
    }
}
```

`RouteTest::test_Class()`ã§ã¯ï¼ŒAttributeã‚’ä»˜ä¸ã—ãŸã‚¯ãƒ©ã‚¹ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ãŠã‚Šï¼Œ`RouteTest::test_Method()`ã§ã¯ï¼ŒAttributeã‚’ä»˜ä¸ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ã„ã¾ã™ï¼

ä¸Šã§å®Ÿè£…ã—ãŸ`Route`ã‚¯ãƒ©ã‚¹ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ—¢å­˜ã®Controllerã‚„Actionã«ä»˜ä¸ã™ã‚‹ã“ã¨ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼

```php
// example
class ArticleController
{
    /**
     * GET /a/:article_name è¨˜äº‹ãƒšãƒ¼ã‚¸
     */
    #[Route(path: 'a/:articlename')]
    public function view()
    {
        // snip
    }
}
```

```php
// example
#[Route(path: 'a/:articlename')]
class SitemapAction
{
    // snip
}
```

### **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã®èµ°æŸ»**

`Route`ã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ã¯å‡ºæ¥ãŸã®ã§ï¼Œæ¬¡ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’èµ°æŸ»ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ï¼

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã®èµ°æŸ»ã«ã¯DirectoryIteratorãªã©ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¾ã™ï¼

ã¾ãŸï¼Œèµ°æŸ»ã—ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã¯ï¼Œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’å‡ºåŠ›ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ã«ä½¿ç”¨ã™ã‚‹ãŸã‚ã«é…åˆ—ã§è¿”ã—ã¦ã‚ã’ã¾ã™ï¼

```php
declare(strict_types=1);

namespace Dic\Domain;

use ControllerBase;
use DirectoryIterator;
use Generator;
use Psr\Http\Server\RequestHandlerInterface;
use ReflectionClass;
use Spiral\Attributes\AttributeReader;

class RouteCollector
{
    /** @var list<string> */
    private $target_directories;

    /** @var AttributeReader */
    private $reader;

    /**
     * @param list<string> $target_directories
     */
    public function __construct(array $target_directories)
    {
        $this->reader = new AttributeReader();
        $this->target_directories = $target_directories;
    }

    public function getRoutes(): array
    {
        $result = [];
        foreach ($this->target_directories as $directory_name) {
            $dir = new DirectoryIterator($directory_name);
            foreach ($this->fetchRoute($dir) as $route) {
                $result[] = $route;
            }
        }
        return $result;
    }

    public function fetchRoute(DirectoryIterator $dir)
    {
        if ($dir->isFile()) {
            return;
        }

        foreach ($dir as $item) {
            /** @var DirectoryIterator $item */
            if ($item->isFile()) {
                $classname = $this->getClassWithNamespace($item);
                if ($classname === null) {
                    continue;
                }
                yield from $this->fetchRoutesFromClass($classname);
            } elseif ($item->isDir() && !$item->isDot()) {
                yield from $this->fetchRoute(new DirectoryIterator($item->getPathname()));
            }
        }
    }

    /**
     * @param class-string $classname
     * @return Generator
     */
    public function fetchRoutesFromClass(string $classname): Generator
    {
        $ref = new ReflectionClass($classname);
        if (is_a($classname, RequestHandlerInterface::class, true)) {
            $metadata = $this->reader->getClassMetadata($ref);
            foreach ($metadata as $attr) {
                yield [
                    'action' => $classname,
                    'route' => $attr,
                ];
            }
        } elseif (is_a($classname, ControllerBase::class, true)) {
            foreach ($ref->getMethods() as $ref_method) {
                $method_name = $ref_method->getName();
                $metadata = $this->reader->getFunctionMetadata($ref_method);
                foreach ($metadata as $attr) {
                    yield [
                        'controller' => $classname,
                        'action' => $method_name,
                        'route' => $attr,
                    ];
                }
            }
        }
    }

    /**
     * @return class-string
     */
    public function getClassWithNamespace(\DirectoryIterator $item): ?string
    {
        $namespace = null;
        $file = $item->openFile("r");
        foreach ($file as $line) {
            if (preg_match('/^namespace (?<namespace>.+);$/', $line, $m)) {
                $namespace = $m['namespace'];
                break;
            }
        }
        $classname = $item->getBasename(".php");
        $fqsen = "{$namespace}\\{$classname}";
        if (class_exists($fqsen)) {
            return $fqsen;
        }

        return null;
    }
}
```

ã“ã“ã§å®Ÿè£…ã—ãŸ`RouteCollector`ã‚¯ãƒ©ã‚¹ã§ã¯ï¼Œ`RouteCollector::getRoutes()`ã¨ã„ã†é–¢æ•°ãŒæŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ï¼Œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒè¨˜è¼‰ã•ã‚ŒãŸã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãªã©ã‚’èµ°æŸ»ã—ã¦é…åˆ—ã¨ã—ã¦è¿”ã™ã‚ˆã†ãªå‡¦ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ï¼

```php
declare(strict_types=1);

namespace Dic\Domain;

use Dic\TestCase;
use Dic\Domain\RouteCollector\SampleAction;
use Dic\Domain\RouteCollector\SampleController;
use Dic\Domain\RouteCollector\Nested;

class RouteCollectorTest extends TestCase
{
    public function test(): void
    {
        $subject = new RouteCollector([
            __DIR__ . '/RouteCollector',
        ]);

        $expected = [
            ['action' => Nested\SampleAction2::class, 'route' => new Route("/Nested/SampleAction2")],
            ['action' => Nested\SampleAction::class, 'route' => new Route("/Nested/SampleAction")],
            ['controller' => SampleController::class, 'action' => 'index', 'route' => new Route('/sample')],
            ['controller' => SampleController::class, 'action' => 'cached', 'route' => new Route('/sample/cached', true)],
            ['controller' => SampleController::class, 'action' => 'robots', 'route' => new Route('/sample/robots.txt', false, true)],
            ['action' => SampleAction::class, 'route' => new Route("/SampleAction")],
        ];

        $this->assertEquals($expected, $subject->getRoutes());
    }
}
```

```php
namespace Dic\Domain\RouteCollector\Nested;

use Dic\Domain\Route;
use LogicException;
use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;
use Psr\Http\Server\RequestHandlerInterface;

#[Route("/Nested/SampleAction")]
class SampleAction implements RequestHandlerInterface
{
    public function handle(ServerRequestInterface $request): ResponseInterface
    {
        throw new LogicException("do not call me.");
    }
}
```

```php
namespace Dic\Domain\RouteCollector;

use Dic\Domain\Route;
use LogicException;
use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;
use Psr\Http\Server\RequestHandlerInterface;

#[Route("/SampleAction")]
class SampleAction implements RequestHandlerInterface
{
    public function handle(ServerRequestInterface $request): ResponseInterface
    {
        throw new LogicException("do not call me.");
    }
}
```

```php
namespace Dic\Domain\RouteCollector;

use Dic\Domain\Route;

class SampleController extends \ControllerBase
{
    #[Route('/sample')]
    public function index()
    {
        // snip
    }

    #[Route('/sample/cached', cache: true)]
    public function cached()
    {
        // snip
    }

    #[Route('/sample/robots.txt', no_trailing_slash: true)]
    public function robots()
    {
        // snip
    }
}
```

`RouteCollectorTest`ã§ã¯ï¼Œãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚‚å–å¾—ã§ãã‚‹ã‹ã©ã†ã‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’æ›¸ã„ã¦ã„ã¾ã™ãŒï¼Œå®Ÿéš›ã«ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ã„ãŸéš›ã«ã¯ï¼Œ`RouteCollector::fetchRoutesFromClass()`ã§ã¡ã‚‡ã£ã¨ã—ãŸç„¡é™ãƒ«ãƒ¼ãƒ—ãŒèµ·ãã¦ã—ã¾ã„ã¾ã—ãŸï¼

ãã®å¯¾ç­–ã¨ã—ã¦`Generator`ã‚„`yield`ãªã©ã‚’æ´»ç”¨ã—ãŸã®ã§ã™ãŒï¼Œ`Generator`ã‚„ï¼Œ`yield`ãªã©ã®ä½¿ã„æ–¹ã«ã¤ã„ã¦è©³ã—ããªã‹ã£ãŸã®ã§ï¼Œã“ã‚Œã‚‰ã«é–¢ã—ã¦çµæ§‹ãªé »åº¦ã§æˆ¸æƒ‘ã£ã¦ã„ã¾ã—ãŸï¼

### **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã®å‡ºåŠ›**

å…ˆè¿°ã®é€šã‚Šï¼Œé…åˆ—ã¨ã—ã¦è¿”ã£ã¦ããŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã¯æ—¢å­˜ã®å½¢å¼ã«åˆã‚ã›ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ï¼

```php
declare(strict_types=1);

namespace Dic\Domain;

use function Safe\fwrite;

class RoutingFileGenerator
{
    /** @var array<array{controller?:class-string, action:string|class-string, route:Route}> */
    private $routes;

    /**
     * @param array<array{controller?:class-string, action:string|class-string, route:Route}> $routes
     */
    public function __construct(array $routes)
    {
        $this->routes = $routes;
    }

    /**
     * @param resource $file
     */
    public function write($file): void
    {
        $code = "<?php return " . preg_replace('/\s+$/mu', '', var_export($this->build(), true)) . ";";
        fwrite($file, $code);
    }

    /**
     * @return array<array{0:string, array{controller?:class-string, action:string|class-string, cache?:bool, no_trailing_slash?:bool}}>
     */
    public function build(): array
    {
        $result = [];

        foreach ($this->routes as $route) {
            $attr = $route['route'];
            assert($attr instanceof Route);

            $config = [
                'controller' => $route["controller"] ?? null,
                'action' => $route["action"],
            ];

            if ($config["controller"] === null) {
                unset($config["controller"]);
            }

            if ($attr->cache) {
                $config['cache'] = true;
            }

            if ($attr->no_trailing_slash) {
                $config['no_trailing_slash'] = true;
            }

            $result[] = [
                $attr->path,
                $config,
            ];
        }

        return $result;
    }
}
```

PHPDocã‚’èª­ã‚“ã§ã„ãŸã ã‘ã‚Œã°åˆ†ã‹ã‚‹ã¨æ€ã¾ã™ãŒï¼Œæ—¢å­˜ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã«é…åˆ—ã®æ›¸ãæ–¹ã‚’åˆã‚ã›ã¦è¿”ã™ã‚ˆã†ãªå‡¦ç†ã‚’ã—ã¦ã„ã¾ã™ï¼

```php
declare(strict_types=1);

namespace Dic\Domain;

use Dic\Domain\RouteCollector\SampleAction;
use Dic\Domain\RouteCollector\SampleController;
use Dic\Domain\RouteCollector\Nested;
use Dic\TestCase;
use function Safe\fopen;
use function Safe\rewind;
use function Safe\stream_get_contents;

class RoutingFileGeneratorTest extends TestCase
{
    public function test()
    {
        $routes = [
            ['action' => Nested\SampleAction2::class, 'route' => new Route("/Nested/SampleAction2")],
            ['action' => Nested\SampleAction::class, 'route' => new Route("/Nested/SampleAction")],
            ['controller' => SampleController::class, 'action' => 'index', 'route' => new Route('/sample')],
            ['controller' => SampleController::class, 'action' => 'cached', 'route' => new Route('/sample/cached', true)],
            ['controller' => SampleController::class, 'action' => 'robots', 'route' => new Route('/sample/robots.txt', false, true)],
            ['action' => SampleAction::class, 'route' => new Route("/SampleAction")],
        ];

        $file = fopen('php://memory', 'rw');

        $subject = new RoutingFileGenerator($routes);
        $subject->write($file);

        rewind($file);

        $actual_content = stream_get_contents($file);
        $this->assertSame(self::EXPECTED_CONTENT, $actual_content);
    }

    private const EXPECTED_CONTENT = <<<'PHP'
<?php return array (
  0 =>
  array (
    0 => '/Nested/SampleAction2',
    1 =>
    array (
      'action' => 'Dic\\Domain\\RouteCollector\\Nested\\SampleAction2',
    ),
  ),
  1 =>
  array (
    0 => '/Nested/SampleAction',
    1 =>
    array (
      'action' => 'Dic\\Domain\\RouteCollector\\Nested\\SampleAction',
    ),
  ),
  2 =>
  array (
    0 => '/sample',
    1 =>
    array (
      'controller' => 'Dic\\Domain\\RouteCollector\\SampleController',
      'action' => 'index',
    ),
  ),
  3 =>
  array (
    0 => '/sample/cached',
    1 =>
    array (
      'controller' => 'Dic\\Domain\\RouteCollector\\SampleController',
      'action' => 'cached',
      'cache' => true,
    ),
  ),
  4 =>
  array (
    0 => '/sample/robots.txt',
    1 =>
    array (
      'controller' => 'Dic\\Domain\\RouteCollector\\SampleController',
      'action' => 'robots',
      'no_trailing_slash' => true,
    ),
  ),
  5 =>
  array (
    0 => '/SampleAction',
    1 =>
    array (
      'action' => 'Dic\\Domain\\RouteCollector\\SampleAction',
    ),
  ),
);
PHP;

}
```

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã«æ›¸ã„ã¦ã‚ã‚‹ã‚ˆã†ã«ï¼Œè¿”ã£ã¦ããŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã¯ã“ã®ã‚ˆã†ãªé…åˆ—ã«ãªã£ã¦ã„ã¾ã™ï¼

ã“ã®é…åˆ—ã‹ã‚‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ãã¾ã™ï¼

```php
if (!file_exists( __DIR__ . '/route-config.php')) {
    return;
}

foreach ((require __DIR__ . '/route-config.php') as [$path, $config]) {
    Router::addRoute(ltrim($path, '/'), $config);
}
```

ã“ã†ã™ã‚‹ã“ã¨ã§é…åˆ—ã‹ã‚‰ä¸€ã¤ä¸€ã¤ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ï¼

### **ãŠã‚ã‚Šã«**

ãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦Attributeãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã„ã†æ–°ã—ã„æ©Ÿèƒ½ã®å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ã¨ã“ã‚ã¾ã§ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãŸã®ã§ã™ãŒï¼Œæ™‚é–“åˆ‡ã‚Œã¨ãªã‚Šï¼Œä¸€ã¤ã®æ©Ÿèƒ½ã«ã¾ã¨ã‚ä¸Šã’ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸï¼

ã—ã‹ã—ï¼ŒAttributeãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ãªã‹ã§ï¼Œè‡ªåˆ†ã®çŸ¥ã‚‰ãªã‹ã£ãŸPHPã®æ§˜ã€…ãªæ©Ÿèƒ½ã‚’çŸ¥ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã—ï¼Œãƒ†ã‚¹ãƒˆã‚’ã—ã£ã‹ã‚Šã¨æ›¸ãçµŒé¨“ãŒå‡ºæ¥ã¦ï¼Œã¨ã¦ã‚‚æ¥½ã—ãã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³æœŸé–“ã‚’éã”ã™ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸï¼

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ãƒ”ã‚¯ã‚·ãƒ–ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—çµ‚ã‚ã‚Šã¾ã—ãŸï¼<br>ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼<br><br>Attributeã‚’ä½¿ã£ã¦ãƒ”ã‚¯ã‚·ãƒ–ç™¾ç§‘äº‹å…¸ã«æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹èª²é¡Œã‚’è¡Œã„ã¾ã—ãŸï¼<br>ã¾ãŸã™ãã«ãƒ–ãƒ­ã‚°ã«ã¾ã¨ã‚ã¾ã™ï¼</p>&mdash; ã¯ã‚‹èŒ¶ / Haruki Tazoe ğŸ’ (@jdkfx) <a href="https://twitter.com/jdkfx/status/1438444536280223745?ref_src=twsrc%5Etfw">September 16, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

ãƒ¡ãƒ³ã‚¿ãƒ¼ã®[@tadsan](https://twitter.com/tadsan)ã•ã‚“å«ã‚ï¼Œæ²¢å±±ã®æ–¹ã«ãŠä¸–è©±ã«ãªã‚Šã¾ã—ãŸï¼

ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼